CREATE DATABASE GESTAO_FINANCEIRA;

USE GESTAO_FINANCEIRA;

CREATE TABLE USUARIO (
    CPF VARCHAR(255) NOT NULL PRIMARY KEY,
    NOME VARCHAR(255) NOT NULL,
    NOME_USUARIO VARCHAR(255) NOT NULL UNIQUE,
    SENHA VARCHAR(255) NOT NULL,
    EMAIL VARCHAR(255) NOT NULL
);

CREATE TABLE RELATORIO_FINANCEIRO (
    RELATORIO_ID INT NOT NULL PRIMARY KEY,
    GASTO_TOTAL DECIMAL NOT NULL,
    PERIODO_INICIO DATE NOT NULL,
    PERIODO_FINAL DATE NOT NULL,
    RENDIMENTO_BRUTO DECIMAL NOT NULL,
    CPF VARCHAR(255),
    FOREIGN KEY(CPF) REFERENCES USUARIO(CPF)
);

CREATE TABLE CATEGORIA_DESPESA (
    CATEGORIA_DESPESA_ID INT NOT NULL PRIMARY KEY,
    DESCRICAO_DESPESA VARCHAR(255) NOT NULL
);

CREATE TABLE CONTA_BANCARIA (
    NUMERO_CONTA INT NOT NULL PRIMARY KEY,
    TIPO_CONTA ENUM('CORRENTE', 'POUPANÇA', 'INVESTIMENTO'),
    SALDO_ATUAL DECIMAL(9, 2) NOT NULL DEFAULT 0.00,
    DATA_CADASTRO DATE NOT NULL,
    BANCO_NOME VARCHAR(255),
    CPF VARCHAR(255),
    FOREIGN KEY(CPF) REFERENCES USUARIO(CPF)
);

CREATE TABLE META_FINANCEIRA (
    META_ID INT NOT NULL PRIMARY KEY,
    DESCRICAO_META VARCHAR(255) NOT NULL,
    VALOR_META DECIMAL(9, 2) NOT NULL,
    VALOR_ATUAL DECIMAL(9, 2) NOT NULL,
    DATA_FINAL_META DATE NOT NULL,
    CPF VARCHAR(255),
    FOREIGN KEY(CPF) REFERENCES USUARIO(CPF)
);

CREATE TABLE DIVIDA (
    DIVIDA_ID INT NOT NULL PRIMARY KEY,
    DESCRICAO_DIVIDA VARCHAR(255) NOT NULL,
    VALOR_TOTAL_DEVIDO DECIMAL(9, 2) NOT NULL,
    QUANTIDADE_PARCELAS INT NOT NULL,
    VALOR_PARCELA DECIMAL(9, 2) NOT NULL,
    TIPO_RECORRENCIA_PGTO ENUM('MENSAL', 'ANUAL', 'SEMESTRAL'),
    CPF VARCHAR(255),
    FOREIGN KEY(CPF) REFERENCES USUARIO(CPF)
    
);

CREATE TABLE TRANSACAO (
    TRANSACAO_ID INT NOT NULL PRIMARY KEY,
    DATA_TRANSACAO DATE NOT NULL,
    DESCRICAO_TRANSACAO VARCHAR(255) NOT NULL,
    MEIO_PAG_TRANSACAO VARCHAR(255) NOT NULL,
    NUMERO_CONTA INT,
    ID_CONTA INT,
    FOREIGN KEY(NUMERO_CONTA) REFERENCES CONTA_BANCARIA(NUMERO_CONTA),
    FOREIGN KEY(ID_CONTA) REFERENCES CONTA(ID_CONTA)
);

CREATE TABLE INVESTIMENTO (
    TIPO_INVESTIMENTO VARCHAR(255) NOT NULL,
    VALOR_INVESTIDO  DECIMAL(9,2) NOT NULL,
    DATA_INVESTIMENTO DATE NOT NULL,
    RENTABILIDADE DECIMAL(3,2) NOT NULL,
    TIPO_RENTABILIDADE ENUM('MENSAL', 'ANUAL', 'SEMESTRAL') NOT NULL,
    DESCRICAO_INVESTIMENTO VARCHAR(255) NOT NULL,
    NUMERO_CONTA INT,
    FOREIGN KEY (NUMERO_CONTA) REFERENCES CONTA_BANCARIA(NUMERO_CONTA)
);

CREATE TABLE CONTA (
    ID_CONTA INT NOT NULL PRIMARY KEY,
    DESCRICAO_CONTA VARCHAR(255) NOT NULL,
    VALOR_CONTA DECIMAL(9, 2) NOT NULL,
    DATA_VENCIMENTO DATE NOT NULL,
    CATEGORIA_DESPESA_ID INT,
    FOREIGN KEY(CATEGORIA_DESPESA_ID) REFERENCES CATEGORIA_DESPESA(CATEGORIA_DESPESA_ID)
);



CREATE TABLE ORCAMENTO (
    ID_ORCAMENTO INT NOT NULL PRIMARY KEY,
    LIMITE_GASTO DECIMAL(9,2) NOT NULL,
    TIPO_RECORRENCIA_DESPESA ENUM('MENSAL', 'ANUAL', 'SEMESTRAL') NOT NULL,
    DATA_ORCAMENTO DATE NOT NULL,
    CATEGORIA_DESPESA_ID INT,
    CPF VARCHAR(255),
    FOREIGN KEY(CPF) REFERENCES USUARIO(CPF),
    FOREIGN KEY (CATEGORIA_DESPESA_ID) REFERENCES CATEGORIA_DESPESA(CATEGORIA_DESPESA_ID)
);



INSERT INTO USUARIO (CPF, NOME, NOME_USUARIO, SENHA, EMAIL) VALUES
('123.456.789-00', 'João Silva', 'joaosilva', 'senha123', 'joao.silva@example.com'),
('987.654.321-00', 'Maria Oliveira', 'mariaoliveira', 'senha321', 'maria.oliveira@example.com'),
('111.222.333-44', 'Pedro Santos', 'pedrosantos', 'senha456', 'pedro.santos@example.com'),
('555.666.777-88', 'Ana Souza', 'anasouza', 'senha789', 'ana.souza@example.com'),
('999.888.777-66', 'Lucas Pereira', 'lucaspereira', 'senha987', 'lucas.pereira@example.com'),
('444.333.222-11', 'Carla Lima', 'carlalima', 'senha654', 'carla.lima@example.com'),
('222.111.000-99', 'Marcos Oliveira', 'marcosoliveira', 'senha852', 'marcos.oliveira@example.com'),
('777.888.999-11', 'Fernanda Costa', 'fernandacosta', 'senha741', 'fernanda.costa@example.com'),
('333.444.555-66', 'Paulo Gomes', 'paulogomes', 'senha369', 'paulo.gomes@example.com'),
('666.555.444-77', 'Laura Martins', 'lauramartins', 'senha258', 'laura.martins@example.com');

INSERT INTO CONTA_BANCARIA (NUMERO_CONTA, TIPO_CONTA, SALDO_ATUAL, DATA_CADASTRO, BANCO_NOME, CPF) VALUES
(1001, 'CORRENTE', 1500.00, '2024-04-01', 'Banco A', '123.456.789-00'),
(1002, 'POUPANÇA', 3000.00, '2024-03-15', 'Banco B', '987.654.321-00'),
(1003, 'INVESTIMENTO', 5000.00, '2024-02-28', 'Banco C', '111.222.333-44'),
(1004, 'CORRENTE', 2000.00, '2024-04-05', 'Banco D', '555.666.777-88'),
(1005, 'POUPANÇA', 4000.00, '2024-01-10', 'Banco E', '999.888.777-66'),
(1006, 'INVESTIMENTO', 7000.00, '2024-03-20', 'Banco F', '444.333.222-11'),
(1007, 'CORRENTE', 2500.00, '2024-02-15', 'Banco G', '777.888.999-00'),
(1008, 'POUPANÇA', 3500.00, '2024-03-01', 'Banco H', '222.333.444-55'),
(1009, 'INVESTIMENTO', 6000.00, '2024-04-10', 'Banco I', '666.555.444-33'),
(1010, 'CORRENTE', 1800.00, '2024-01-20', 'Banco J', '123.321.456-00');

INSERT INTO META_FINANCEIRA (META_ID, DESCRICAO_META, VALOR_META, VALOR_ATUAL, DATA_FINAL_META, CPF) VALUES
(1, 'Viagem para Europa', 20000.00, 5000.00, '2025-12-31', '123.456.789-00'),
(2, 'Compra de Carro Novo', 35000.00, 15000.00, '2024-12-31', '987.654.321-00'),
(3, 'Festa de Aniversário', 500.00, 200.00, '2024-06-30', '111.222.333-44'),
(4, 'Curso de Idiomas', 1000.00, 400.00, '2024-10-31', '555.666.777-88'),
(5, 'Reserva de Emergência', 10000.00, 6000.00, '2025-06-30', '999.888.777-66'),
(6, 'Investimento em Ações', 8000.00, 2000.00, '2025-04-30', '444.333.222-11'),
(7, 'Reforma da Casa', 15000.00, 7000.00, '2026-03-31', '777.888.999-00'),
(8, 'Viagem para Praia', 3000.00, 1200.00, '2024-09-30', '222.333.444-55'),
(9, 'Curso de Culinária', 500.00, 150.00, '2024-08-31', '666.555.444-33'),
(10, 'Festa de Final de Ano', 2000.00, 800.00, '2024-12-31', '123.321.456-00');

INSERT INTO DIVIDA (DIVIDA_ID, DESCRICAO_DIVIDA, VALOR_TOTAL_DEVIDO, QUANTIDADE_PARCELAS, VALOR_PARCELA, TIPO_RECORRENCIA_PGTO, CPF) VALUES
(1, 'Empréstimo Bancário', 5000.00, 12, 500.00, 'MENSAL', '123.456.789-00'),
(2, 'Cartão de Crédito', 3000.00, 6, 500.00, 'MENSAL', '987.654.321-00'),
(3, 'Financiamento Imobiliário', 100000.00, 240, 500.00, 'MENSAL', '111.222.333-44'),
(4, 'Empréstimo Pessoal', 2000.00, 4, 500.00, 'MENSAL', '555.666.777-88'),
(5, 'Parcelamento de Compra', 1500.00, 3, 500.00, 'MENSAL', '999.888.777-66'),
(6, 'Fatura de Cartão', 1000.00, 2, 500.00, 'MENSAL', '444.333.222-11'),
(7, 'Empréstimo Consignado', 5000.00, 12, 500.00, 'MENSAL', '777.888.999-00'),
(8, 'Parcelamento de Viagem', 2000.00, 4, 500.00, 'MENSAL', '222.333.444-55'),
(9, 'Mensalidade Escolar', 1000.00, 2, 500.00, 'MENSAL', '666.555.444-33'),
(10, 'Parcelamento de Eletrônicos', 1500.00, 3, 500.00, 'MENSAL', '123.321.456-00');

INSERT INTO TRANSACAO (TRANSACAO_ID, DATA_TRANSACAO, DESCRICAO_TRANSACAO, MEIO_PAG_TRANSACAO, NUMERO_CONTA, ID_CONTA) VALUES
(1, '2024-04-05', 'Compra Supermercado', 'Cartão Débito', 1001, NULL),
(2, '2024-04-10', 'Pagamento Fatura', 'Cartão Crédito', NULL, 1002),
(3, '2024-04-15', 'Depósito Salário', 'Transferência Bancária', 1003, NULL),
(4, '2024-04-20', 'Compra Roupas', 'Cartão Crédito', NULL, 1004),
(5, '2024-04-25', 'Transferência', 'Transferência Bancária', 1005, 1003),
(6, '2024-04-28', 'Pagamento Conta Luz', 'Boleto Bancário', NULL, 1007),
(7, '2024-05-02', 'Compra Eletrônicos', 'Cartão Débito', 1006, NULL),
(8, '2024-05-05', 'Depósito Poupança', 'Transferência Bancária', 1008, NULL),
(9, '2024-05-10', 'Compra Livros', 'Cartão Crédito', NULL, 1009),
(10, '2024-05-15', 'Transferência Recebida', 'Transferência Bancária', 1002, 1005);

INSERT INTO INVESTIMENTO (TIPO_INVESTIMENTO, VALOR_INVESTIDO, DATA_INVESTIMENTO, RENTABILIDADE, TIPO_RENTABILIDADE, DESCRICAO_INVESTIMENTO, NUMERO_CONTA) VALUES
('Renda Fixa', 10000.00, '2024-04-01', 0.05, 'ANUAL', 'Tesouro Direto', 1001),
('Ações', 5000.00, '2024-03-15', 0.10, 'SEMESTRAL', 'Empresas de Tecnologia', 1004),
('CDB', 7000.00, '2024-02-28', 0.08, 'MENSAL', 'Banco X', 1006),
('Fundos Imobiliários', 20000.00, '2024-03-20', 0.07, 'ANUAL', 'Shopping Centers', 1008),
('Previdência Privada', 15000.00, '2024-01-10', 0.06, 'MENSAL', 'Plano de Longo Prazo', 1009),
('Ações', 3000.00, '2024-04-05', 0.12, 'ANUAL', 'Empresas de Energia', 1002),
('CDB', 4000.00, '2024-02-15', 0.09, 'MENSAL', 'Banco Y', 1007),
('Renda Fixa', 20000.00, '2024-03-10', 0.06, 'SEMESTRAL', 'Tesouro Selic', 1005),
('Ações', 7000.00, '2024-01-20', 0.15, 'MENSAL', 'Empresas de Varejo', 1010),
('Fundos Imobiliários', 25000.00, '2024-02-01', 0.08, 'ANUAL', 'Shopping Malls', 1003);

INSERT INTO CONTA (ID_CONTA, DESCRICAO_CONTA, VALOR_CONTA, DATA_VENCIMENTO, CATEGORIA_DESPESA_ID) VALUES
(1, 'Aluguel', 1000.00, '2024-04-10', 1),
(2, 'Energia Elétrica', 200.00, '2024-04-20', 2),
(3, 'Telefone', 150.00, '2024-04-25', 2),
(4, 'Internet', 100.00, '2024-04-28', 2),
(5, 'Supermercado', 500.00, '2024-05-05', 3),
(6, 'Transporte', 200.00, '2024-05-10', 3),
(7, 'Lazer', 300.00, '2024-05-15', 4),
(8, 'Saúde', 250.00, '2024-05-20', 4),
(9, 'Educação', 400.00, '2024-05-25', 5),
(10, 'Outros', 150.00, '2024-05-30', 6),
(11, 'Aluguel', 1200.00, '2024-05-10', 1),
(12, 'Energia Elétrica', 220.00, '2024-05-20', 2),
(13, 'Telefone', 160.00, '2024-05-25', 2),
(14, 'Internet', 110.00, '2024-05-28', 2),
(15, 'Supermercado', 600.00, '2024-06-05', 3),
(16, 'Transporte', 250.00, '2024-06-10', 3),
(17, 'Lazer', 350.00, '2024-06-15', 4),
(18, 'Saúde', 270.00, '2024-06-20', 4),
(19, 'Educação', 450.00, '2024-06-25', 5),
(20, 'Outros', 180.00, '2024-06-30', 6);

INSERT INTO ORCAMENTO (ID_ORCAMENTO, LIMITE_GASTO, TIPO_RECORRENCIA_DESPESA, DATA_ORCAMENTO, CATEGORIA_DESPESA_ID, CPF) VALUES
(1, 1500.00, 'MENSAL', '2024-04-01', 1, '123.456.789-00'),
(2, 2500.00, 'ANUAL', '2024-01-01', 2, '987.654.321-00'),
(3, 800.00, 'MENSAL', '2024-02-01', 3, '111.222.333-44'),
(4, 2000.00, 'ANUAL', '2024-03-01', 4, '555.666.777-88'),
(5, 3000.00, 'MENSAL', '2024-04-01', 5, '999.888.777-66'),
(6, 1000.00, 'MENSAL', '2024-05-01', 6, '444.333.222-11'),
(7, 1800.00, 'ANUAL', '2024-06-01', 7, '777.888.999-00'),
(8, 700.00, 'MENSAL', '2024-07-01', 8, '222.333.444-55'),
(9, 2500.00, 'MENSAL', '2024-08-01', 9, '666.555.444-33'),
(10, 1200.00, 'ANUAL', '2024-09-01', 10, '123.321.456-00'),
(11, 1800.00, 'MENSAL', '2024-10-01', 11, '123.456.789-00'),
(12, 2800.00, 'MENSAL', '2024-11-01', 12, '987.654.321-00'),
(13, 900.00, 'MENSAL', '2024-12-01', 13, '111.222.333-44'),
(14, 2200.00, 'ANUAL', '2025-01-01', 14, '555.666.777-88'),
(15, 3500.00, 'MENSAL', '2025-02-01', 15, '999.888.777-66'),
(16, 1500.00, 'MENSAL', '2025-03-01', 16, '444.333.222-11'),
(17, 2000.00, 'ANUAL', '2025-04-01', 17, '777.888.999-00'),
(18, 800.00, 'MENSAL', '2025-05-01', 18, '222.333.444-55'),
(19, 3000.00, 'MENSAL', '2025-06-01', 19, '666.555.444-33'),
(20, 1000.00, 'ANUAL', '2025-07-01', 20, '123.321.456-00');

